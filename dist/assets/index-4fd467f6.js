import{r as c,j as e,u as g}from"./index-7d7ee9ac.js";import{S as j}from"./styles-7f9b4d7c.js";import{S as C,u as y,G as S}from"./styles-e2a1f7d7.js";import{M as x,C as v}from"./characters-locations-filter-modal-63811b80.js";import{T as h,L as E,a as F}from"./list-loader-8273edb1.js";import{C as T}from"./character-523af422.js";import{c as p}from"./queries-e5bef766.js";const b=["None","Human","Alien","Humanoid","unknown","Poopybutthole","Mythological Creature","Animal","Robot","Cronenberg","Disease"],R=["None","Male","Female","unknown","Genderless"],M=["None","Alive","unknown","Dead"];function N({onFilter:r}){const a=c.useRef(),[n,u]=c.useState({species:"",gender:"",status:"",name:""}),o=t=>s=>{u(d=>({...d,[t]:s.target.value=="None"?"":s.target.value}))},i=()=>{a.current!==null&&clearTimeout(a.current)};c.useEffect(()=>(i(),a.current=setTimeout(()=>{r(n)},300),()=>i()),[n]);const m=e.jsxs(e.Fragment,{children:[e.jsx(h,{select:!0,label:"Species",value:n.species,onChange:o("species"),children:b.map((t,s)=>e.jsx(x,{value:t,children:t},s))}),e.jsx(h,{select:!0,label:"Gender",value:n.gender,onChange:o("gender"),children:R.map((t,s)=>e.jsx(x,{value:t,children:t},s))}),e.jsx(h,{select:!0,label:"Status",value:n.status,onChange:o("status"),children:M.map((t,s)=>e.jsx(x,{value:t,children:t},s))})]});return e.jsxs(C,{component:"form",sx:{marginTop:"32px"},children:[e.jsx(h,{label:"Filter by name...",className:"search",value:n.name,onChange:o("name")}),m,e.jsx(v,{children:m})]})}const A=p("1",{});function H(){var t,s,d,f;const{data:r,loading:a,error:n,fetchMore:u}=y(A),[o,i]=c.useState({}),m=()=>{r&&u({query:p(r.characters.info.next,o),updateQuery:g("characters")})};return e.jsx(j,{children:e.jsxs("div",{className:"container",children:[e.jsx("img",{src:"./styled-logo.svg",alt:"logo"}),e.jsx(N,{onFilter:l=>{u({query:p("1",l),updateQuery:g("none")}),i(l)}}),e.jsxs(S,{children:[e.jsx(E,{loading:a,data:((t=r==null?void 0:r.characters)==null?void 0:t.results)??[]}),(((s=r==null?void 0:r.characters)==null?void 0:s.results)??[]).map(l=>c.createElement(T,{...l,key:l.id}))]}),(f=(d=r==null?void 0:r.characters)==null?void 0:d.info)!=null&&f.next?e.jsx(F,{onClick:m,loading:a}):e.jsx(e.Fragment,{})]})})}export{H as default};
